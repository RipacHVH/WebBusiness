// Complete translation object for WebGrowth website
const translations = {
  bg: {
    // Meta tags
    siteTitle: "WebGrowth | Сайтове на абонамент",
    metaDescription: "Професионални уебсайтове на месечен абонамент. Включено: дизайн, хостинг, поддръжка, SEO. Без големи първоначални инвестиции. Започнете от 129лв/месец.",
    ogTitle: "WebGrowth | Сайтове на абонамент",
    ogDescription: "Професионални уебсайтове на месечен абонамент. Включено: дизайн, хостинг, поддръжка, SEO. Без големи първоначални инвестиции.",
    twitterTitle: "WebGrowth | Сайтове на абонамент",
    twitterDescription: "Професионални уебсайтове на месечен абонамент от 129лв/мес",
    
    // Header
    navPlans: "Планове",
    navHowItWorks: "Стъпка по стъпка",
    navClients: "Клиенти",
    navFAQ: "Въпроси",
    navConsultation: "Безплатна консултация",
    navAriaLabel: "Главна навигация",
    
    // Hero section
    heroTitle: "Създаваме, хостваме и поддържаме",
    heroTagline: "Разберете кой план е най-подходящ за вашия бизнес и получете индивидуална оферта без ангажимент.",
    heroButton: "Безплатна консултация",
    heroConsultNote: "Консултацията е напълно безплатна и не ви обвързва с договор",
    
    // Plans section
    plansTitle: "Месечни абонаментни планове",
    currencyLabel: "Валута:",
    pricingGuarantee: "Абонаментът стартира след Вашето одобрение на изработения сайт!",
    priceLabel: "до",
    pricePerMonth: "/мес",
    
    // Plan cards
    basicPlanTitle: "Базов уебсайт",
    standardPlanTitle: "Стандартен уебсайт",
    complexPlanTitle: "Сложен уебсайт",
    basicFlag: "30 дни БЕЗПЛАТНО",
    standardFlag: "30 дни БЕЗПЛАТНО",
    
    // Plan features
    basicFeatures: [
      "Една страница (Landing Page) или до 3 секции",
      "Базов дизайн и структура",
      "Оптимизация за мобилни устройства",
      "Основна SEO конфигурация",
      "Месечна техническа поддръжка"
    ],
    
    standardFeatures: [
      "До 5 страници (Начало, Услуги, За нас, Контакти и др.)",
      "Персонализиран дизайн",
      "Интеграция на контактни форми",
      "Разширена SEO оптимизация"
    ],
    
    complexFeatures: [
      "Неограничен брой страници",
      "Сложна функционалност (онлайн магазин, резервационна система и др.)",
      "Напълно персонализиран дизайн",
      "Интеграция с външни системи (CRM, API)",
      "Приоритетна поддръжка"
    ],
    
    priceDisclaimer: " Всички посочени цени са ориентировъчни и могат да варират според изискванията на проекта. За точна оферта, запазете безплатна консултация.",
    bookConsultation: "запазете безплатна консултация",
    
    // Clients section
    clientsTitle: "Доволни клиенти",
    clientsSubtitle: "Ето някои от уебсайтовете, които поддържаме и развиваме с внимание и професионализъм:",
    client1Name: "Gentleman",
    client1Description: "Стилен и модерен сайт за бръснарски салон.",
    loadingContent: "Съдържанието ще бъде налично скоро.",
    
    // Process timeline
    processSteps: [
      {
        title: "Безплатна консултация",
        description: "Правим кратка консултация, за да разберем вашия бизнес, цели и специфични нужди. Обсъждаме вашата визия и очаквания."
      },
      {
        title: "Анализ и планиране",
        description: "Уточняваме всички изисквания - функционалности, дизайн предпочитания, съдържание и технически спецификации."
      },
      {
        title: "Избор на план",
        description: "Помагаме ви да изберете най-подходящия абонаментен план според вашите нужди и бюджет - без скрити такси."
      },
      {
        title: "Дизайн и разработка",
        description: "Създаваме вашия уебсайт според одобрените изисквания. Виждате и одобрявате дизайна преди публикуване."
      },
      {
        title: "Пускане и поддръжка",
        description: "След вашето одобрение, сайтът става активен. Получавате пълна поддръжка и редовни актуализации."
      }
    ],
    
    // Process highlights
    processHighlights: [
      {
        title: "Бърз старт",
        description: "Започваме работа веднага след консултацията"
      },
      {
        title: "Без риск",
        description: "Плащате едва след като одобрите дизайна"
      },
      {
        title: "Гъвкавост",
        description: "Можете да променяте плана по всяко време"
      }
    ],
    
    // FAQ questions
    faqQuestions: [
      {
        question: "Кой притежава уебсайта?",
        answer: "Правата върху уебсайта принадлежат на WebGrowth, като клиентът има пълни правомощия за редакция, управление и дори временно спиране на сайта. Уебсайтът не се споделя или предоставя на трети лица без изричното съгласие на клиента."
      },
      {
        question: "Как се определя цената?",
        answer: "В зависимост от брой страници, функционалности, дизайн и срокове. Всеки проект е уникален и цената се калкулира индивидуално след безплатна консултация."
      },
      {
        question: "Вслушвате ли се в моите изисквания?",
        answer: "Абсолютно! Вслушваме се внимателно във вашите желания и изисквания. Клиентът е активен участник през целия процес и финалният продукт се публикува само след като сте напълно удовлетворени от резултата."
      },
      {
        question: "Колко бързо реагирате на проблеми?",
        answer: "Обикновено проблемът се разрешава в рамките на 24 часа от съобщаването му. За спешни случаи предлагаме приоритетна поддръжка с реакция до 2 часа."
      },
      {
        question: "Мога ли да променя плана си?",
        answer: "Да, можете да променяте абонаментния си план по всяко време. Промяната влиза в сила от следващия месец без допълнителни такси."
      },
      {
        question: "Каква е гаранцията за качество?",
        answer: "Предлагаме 30-дневен безплатен пробен период. Ако не сте доволни от резултата, не дължите нищо. Работим докато не сте 100% удовлетворени."
      }
    ],
    
    // Footer
    footerTitle: "WebGrowth",
    footerDescription: "Предлагаме професионално изграждане и пълна поддръжка на уебсайтове, която е включена в месечния абонамент.",
    footerContact: "Свържете се с нас",
    footerPhone: "+359 888 038 933",
    footerEmail: "DevLoKey@protonmail.com",
    footerQuickNav: "Бърза навигация",
    footerNavAria: "Футър навигация",
    footerPlans: "Планове и цени",
    footerStepByStep: "Стъпка по стъпка",
    footerFAQ: "Често задавани въпроси",
    footerOurClients: "Нашите клиенти",
    footerPrivacy: "Политика за поверителност",
    footerTerms: "Условия за ползване",
    footerServices: "Нашите услуги",
    footerService1: "Мобилно-адаптивни сайтове",
    footerService2: "SEO оптимизация и бързо зареждане",
    footerService3: "Безплатен пробен период от 30 дни",
    footerService4: "24/7 техническа поддръжка",
    footerCopyright: "© 2025 WebGrowth. Всички права запазени.",
    footerTagline: "Професионални уебсайтове на абонамент",
    
    // Modals
    consultModalTitle: "Безплатна консултация",
    namePlaceholder: "Име",
    companyPlaceholder: "Фирма (опц.)",
    emailPlaceholder: "Email",
    siteTypePlaceholder: "Изберете тип сайт",
    simpleSite: "Базов",
    standardSite: "Стандартен",
    complexSite: "Сложен",
    messagePlaceholder: "Кратко съобщение / нужди",
    orDivider: "------------------- или -------------------",
    sendButton: "Изпрати",
    cancelButton: "Откажи",
    
    privacyModalTitle: "Политика за поверителност",
    privacyContent1: "Ние събираме лични данни като име, имейл и телефон само за целите на обработка на вашите запитвания и заявки за консултация. Вашите данни няма да бъдат споделяни с трети страни без ваше съгласие.",
    privacyContent2: "Използваме подходящи технически и организационни мерки за защита на вашата информация.",
    
    termsModalTitle: "Условия за ползване",
    termsContent1: "Използвайки този уебсайт, вие се съгласявате с условията, описани тук.",
    termsContent2: "Всички материали и услуги са предоставени 'както са', без гаранции. WebGrowth не носи отговорност за вреди, произтичащи от използването на сайта.",
    termsContent3: "Всички права запазени. Забранява се копиране на съдържанието без изричното разрешение на WebGrowth.",
    
    // Back to top
    backToTopTitle: "Върни се най-горе"
  },
  
  en: {
    // Meta tags
    siteTitle: "WebGrowth | Subscription Websites",
    metaDescription: "Professional websites on monthly subscription. Includes: design, hosting, maintenance, SEO. No large initial investments. Start from €66/month.",
    ogTitle: "WebGrowth | Subscription Websites",
    ogDescription: "Professional websites on monthly subscription. Includes: design, hosting, maintenance, SEO. No large initial investments.",
    twitterTitle: "WebGrowth | Subscription Websites",
    twitterDescription: "Professional websites on monthly subscription from €66/month",
    
    // Header
    navPlans: "Plans",
    navHowItWorks: "Step by Step",
    navClients: "Clients",
    navFAQ: "FAQ",
    navConsultation: "Free Consultation",
    navAriaLabel: "Main navigation",
    
    // Hero section
    heroTitle: "We Create, Host and Maintain",
    heroTagline: "Find out which plan is most suitable for your business and get a personalized offer without commitment.",
    heroButton: "Free Consultation",
    heroConsultNote: "The consultation is completely free and does not bind you to a contract",
    
    // Plans section
    plansTitle: "Monthly Subscription Plans",
    currencyLabel: "Currency:",
    pricingGuarantee: "The subscription starts after your approval of the developed website!",
    priceLabel: "up to",
    pricePerMonth: "/mo",
     
    
    // Plan cards
    basicPlanTitle: "Basic Website",
    standardPlanTitle: "Standard Website",
    complexPlanTitle: "Complex Website",
    basicFlag: "30 days FREE",
    standardFlag: "30 days FREE",
    
    // Plan features
    basicFeatures: [
      "One page (Landing Page) or up to 3 sections",
      "Basic design and structure",
      "Mobile device optimization",
      "Basic SEO configuration",
      "Monthly technical support"
    ],
    
    standardFeatures: [
      "Up to 5 pages (Home, Services, About Us, Contact, etc.)",
      "Personalized design",
      "Contact form integration",
      "Advanced SEO optimization"
    ],
    
    complexFeatures: [
      "Unlimited number of pages",
      "Complex functionality (online store, booking system, etc.)",
      "Fully personalized design",
      "Integration with external systems (CRM, API)",
      "Priority support"
    ],
    
    priceDisclaimer: " All prices listed are indicative and may vary depending on project requirements. For an accurate quote, book a free consultation.",
    bookConsultation: "book a free consultation",
    
    // Clients section
    clientsTitle: "Satisfied Clients",
    clientsSubtitle: "Here are some of the websites we maintain and develop with care and professionalism:",
    client1Name: "Gentleman",
    client1Description: "Stylish and modern website for a barber shop.",
    loadingContent: "Content will be available soon.",
    
    // Process timeline
    processSteps: [
      {
        title: "Free Consultation",
        description: "We have a brief consultation to understand your business, goals and specific needs. We discuss your vision and expectations."
      },
      {
        title: "Analysis and Planning",
        description: "We clarify all requirements - functionalities, design preferences, content and technical specifications."
      },
      {
        title: "Plan Selection",
        description: "We help you choose the most suitable subscription plan according to your needs and budget - with no hidden fees."
      },
      {
        title: "Design and Development",
        description: "We create your website according to the approved requirements. You see and approve the design before publishing."
      },
      {
        title: "Launch and Maintenance",
        description: "After your approval, the site becomes active. You receive full support and regular updates."
      }
    ],
    
    // Process highlights
    processHighlights: [
      {
        title: "Quick Start",
        description: "We start work immediately after consultation"
      },
      {
        title: "No Risk",
        description: "You pay only after you approve the design"
      },
      {
        title: "Flexibility",
        description: "You can change the plan at any time"
      }
    ],
    
    // FAQ questions
    faqQuestions: [
      {
        question: "Who owns the website?",
        answer: "The rights to the website belong to WebGrowth, while the client has full rights to edit, manage and even temporarily suspend the site. The website is not shared or provided to third parties without the client's explicit consent."
      },
      {
        question: "How is the price determined?",
        answer: "Depending on the number of pages, functionalities, design and deadlines. Each project is unique and the price is calculated individually after a free consultation."
      },
      {
        question: "Do you listen to my requirements?",
        answer: "Absolutely! We carefully listen to your wishes and requirements. The client is an active participant throughout the process and the final product is published only after you are completely satisfied with the result."
      },
      {
        question: "How quickly do you respond to issues?",
        answer: "Usually the problem is resolved within 24 hours of reporting it. For urgent cases, we offer priority support with response within 2 hours."
      },
      {
        question: "Can I change my plan?",
        answer: "Yes, you can change your subscription plan at any time. The change takes effect from the next month without additional fees."
      },
      {
        question: "What is the quality guarantee?",
        answer: "We offer a 30-day free trial period. If you are not satisfied with the result, you owe nothing. We work until you are 100% satisfied."
      }
    ],
    
    // Footer
    footerTitle: "WebGrowth",
    footerDescription: "We offer professional website development and full maintenance included in the monthly subscription.",
    footerContact: "Contact Us",
    footerPhone: "+359 888 038 933",
    footerEmail: "DevLoKey@protonmail.com",
    footerQuickNav: "Quick Navigation",
    footerNavAria: "Footer navigation",
    footerPlans: "Plans and Prices",
    footerStepByStep: "Step by Step",
    footerFAQ: "Frequently Asked Questions",
    footerOurClients: "Our Clients",
    footerPrivacy: "Privacy Policy",
    footerTerms: "Terms of Use",
    footerServices: "Our Services",
    footerService1: "Mobile-responsive websites",
    footerService2: "SEO optimization and fast loading",
    footerService3: "30-day free trial period",
    footerService4: "24/7 technical support",
    footerCopyright: "© 2025 WebGrowth. All rights reserved.",
    footerTagline: "Professional websites on subscription",
    
    // Modals
    consultModalTitle: "Free Consultation",
    namePlaceholder: "Name",
    companyPlaceholder: "Company (optional)",
    emailPlaceholder: "Email",
    siteTypePlaceholder: "Choose website type",
    simpleSite: "Basic",
    standardSite: "Standard",
    complexSite: "Complex",
    messagePlaceholder: "Short message / needs",
    orDivider: "------------------- or -------------------",
    sendButton: "Send",
    cancelButton: "Cancel",
    
    privacyModalTitle: "Privacy Policy",
    privacyContent1: "We collect personal data such as name, email and phone only for the purpose of processing your inquiries and consultation requests. Your data will not be shared with third parties without your consent.",
    privacyContent2: "We use appropriate technical and organizational measures to protect your information.",
    
    termsModalTitle: "Terms of Use",
    termsContent1: "By using this website, you agree to the terms described here.",
    termsContent2: "All materials and services are provided 'as is', without warranties. WebGrowth is not responsible for damages resulting from the use of the site.",
    termsContent3: "All rights reserved. Copying content is prohibited without the express permission of WebGrowth.",
    
    // Back to top
    backToTopTitle: "Back to top"
  }
};

// Update language switcher button active states
function updateLanguageSwitcherButtons(lang) {
  const languageBtns = document.querySelectorAll('.lang-btn');
  languageBtns.forEach(btn => {
    if (btn.dataset.lang === lang) {
      btn.classList.add('active');
    } else {
      btn.classList.remove('active');
    }
  });
}

// Language switching functionality
let currentLanguage;

function updateLanguage(lang) {
  currentLanguage = lang;
  localStorage.setItem('language', lang);
  document.documentElement.lang = lang;
  
  // Update language switcher button states
  updateLanguageSwitcherButtons(lang);
  
  // Update document title
  document.title = translations[lang].siteTitle;
  
  // Update meta description
  const metaDesc = document.querySelector('meta[name="description"]');
  if (metaDesc) metaDesc.content = translations[lang].metaDescription;
  
  // Update meta tags
  const ogTitle = document.querySelector('meta[property="og:title"]');
  if (ogTitle && translations[lang].ogTitle) ogTitle.content = translations[lang].ogTitle;
  
  const ogDesc = document.querySelector('meta[property="og:description"]');
  if (ogDesc && translations[lang].ogDescription) ogDesc.content = translations[lang].ogDescription;
  
  const twitterTitle = document.querySelector('meta[name="twitter:title"]');
  if (twitterTitle && translations[lang].twitterTitle) twitterTitle.content = translations[lang].twitterTitle;
  
  const twitterDesc = document.querySelector('meta[name="twitter:description"]');
  if (twitterDesc && translations[lang].twitterDescription) twitterDesc.content = translations[lang].twitterDescription;
  
  // Update header navigation
  document.querySelector('.nav-plans').textContent = translations[lang].navPlans;
  document.querySelector('.nav-how-it-works').textContent = translations[lang].navHowItWorks;
  document.querySelector('.nav-clients').textContent = translations[lang].navClients;
  document.querySelector('.nav-faq').textContent = translations[lang].navFAQ;
  document.querySelector('.nav-consult-btn').textContent = translations[lang].navConsultation;
  
  // Update hero section
  document.querySelector('.hero-title').textContent = translations[lang].heroTitle;
  document.querySelector('.hero-tagline').textContent = translations[lang].heroTagline;
  document.querySelector('.hero-btn-gradient').textContent = translations[lang].heroButton;
  document.querySelector('.hero-consult-note').innerHTML = `
    <svg width="20" height="20" class="hero-consult-svg" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="10" stroke="#fff" stroke-opacity="0.5"/>
      <path d="M8 12l2 2 4-4" stroke="#fff" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    ${translations[lang].heroConsultNote}
  `;
  
  
  // Update plan cards
  const planCards = document.querySelectorAll('.plan-card');
  planCards[0].querySelector('h4').textContent = translations[lang].basicPlanTitle;
  planCards[1].querySelector('h4').textContent = translations[lang].standardPlanTitle;
  planCards[2].querySelector('h4').textContent = translations[lang].complexPlanTitle;
  
// Update Plans section
const plansTitle = document.querySelector('#plans h3');
if (plansTitle) plansTitle.textContent = translations[lang].plansTitle;

const currencyLabel = document.querySelector('.currency-toggle-wrapper label');
if (currencyLabel) currencyLabel.textContent = translations[lang].currencyLabel;

const pricingGuarantee = document.querySelector('.pricing-guarantee-badge .badge-text');
if (pricingGuarantee) pricingGuarantee.textContent = translations[lang].pricingGuarantee;

// Update price labels in plan cards
planCards.forEach(card => {
  const priceLabel = card.querySelector('.price-label');
  if (priceLabel) {
    const priceSpan = priceLabel.querySelector('.price-display');
    if (priceSpan) {
      const currentCurrency = document.querySelector('.currency-btn.active').dataset.currency;
      const priceValue = priceSpan.dataset[currentCurrency]; // bgn or eur
      priceLabel.innerHTML = `${translations[lang].priceLabel} <span class="price-display" data-bgn="${priceSpan.dataset.bgn}" data-eur="${priceSpan.dataset.eur}">${priceValue}</span>${translations[lang].pricePerMonth}`;
    }
  }
});


  // Update flags
  const flags = document.querySelectorAll('.flag');
  if (flags[0] && translations[lang].basicFlag) flags[0].textContent = translations[lang].basicFlag;
  if (flags[1] && translations[lang].standardFlag) flags[1].textContent = translations[lang].standardFlag;
  
  // Update plan features
  const basicFeatures = planCards[0].querySelectorAll('ul li');
  const standardFeatures = planCards[1].querySelectorAll('ul li');
  const complexFeatures = planCards[2].querySelectorAll('ul li');
  
  basicFeatures.forEach((feature, i) => {
    if (translations[lang].basicFeatures[i]) {
      feature.textContent = translations[lang].basicFeatures[i];
    }
  });
  
  standardFeatures.forEach((feature, i) => {
    if (translations[lang].standardFeatures[i]) {
      feature.textContent = translations[lang].standardFeatures[i];
    }
  });
  
  complexFeatures.forEach((feature, i) => {
    if (translations[lang].complexFeatures[i]) {
      feature.textContent = translations[lang].complexFeatures[i];
    }
  });
  
  // Update price disclaimer
  const priceDisclaimer = document.querySelector('.price-disclaimer');
  if (priceDisclaimer) {
    const disclaimerText = translations[lang].priceDisclaimer;
    const bookConsultText = translations[lang].bookConsultation;
    priceDisclaimer.innerHTML = `* ${disclaimerText} <a href="#" class="bookConsult" id="openConsult3">${bookConsultText}</a>.`;
  }
  
  // Update clients section
  document.querySelector('#clients h3').textContent = translations[lang].clientsTitle;
  document.querySelector('#clients > p').textContent = translations[lang].clientsSubtitle;
  
  const clientCards = document.querySelectorAll('.client-card');
  if (clientCards[0]) {
    clientCards[0].querySelector('h4').textContent = translations[lang].client1Name;
    clientCards[0].querySelector('p').textContent = translations[lang].client1Description;
  }
  
  const loadingPlaceholders = document.querySelectorAll('.loading-placeholder .client-description');
  loadingPlaceholders.forEach(placeholder => {
    placeholder.textContent = translations[lang].loadingContent;
  });
  
  // Update process timeline
  document.querySelector('#how-it-works h3').textContent = translations[lang].processSteps[0].title.split(' ')[0] + ' ' + translations[lang].processSteps[0].title.split(' ')[1];
  document.querySelector('#how-it-works .section-subtitle').textContent = "Five simple steps to your professional website";
  
  const timelineSteps = document.querySelectorAll('.timeline-step');
  timelineSteps.forEach((step, index) => {
    if (translations[lang].processSteps[index]) {
      step.querySelector('h4').textContent = translations[lang].processSteps[index].title;
      step.querySelector('p').textContent = translations[lang].processSteps[index].description;
    }
  });
  
  // Update process highlights
  const highlightCards = document.querySelectorAll('.highlight-card');
  if (translations[lang].processHighlights) {
    highlightCards.forEach((card, index) => {
      if (translations[lang].processHighlights[index]) {
        card.querySelector('h4').textContent = translations[lang].processHighlights[index].title;
        card.querySelector('p').textContent = translations[lang].processHighlights[index].description;
      }
    });
  }
  
  // Update FAQ section
  document.querySelector('#faq .section-title').textContent = "Frequently Asked Questions";
  document.querySelector('#faq .section-subtitle').textContent = "Find answers to the most frequently asked questions about our services";
  
  // Update FAQ questions
  const faqItems = document.querySelectorAll('.faq-item');
  faqItems.forEach((item, index) => {
    if (translations[lang].faqQuestions[index]) {
      item.querySelector('summary').innerHTML = `
        <span class="faq-icon">
          <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="10" stroke="#6366f1" stroke-opacity="0.7"/>
            <path d="M12 16v-1m0-4a2 2 0 1 1 2 2" stroke="#6366f1" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </span>
        ${translations[lang].faqQuestions[index].question}
        <span class="chevron">▼</span>
      `;
      item.querySelector('.faq-content p').textContent = translations[lang].faqQuestions[index].answer;
    }
  });
  
  // Update footer
  document.querySelector('.footer-brand h4').textContent = translations[lang].footerTitle;
  document.querySelector('.footer-brand p').textContent = translations[lang].footerDescription;
  document.querySelector('.footer-contact h5').textContent = translations[lang].footerContact;
  document.querySelector('.footer-contact p a[href^="tel:"]').textContent = translations[lang].footerPhone;
  document.querySelector('.footer-contact p a[href^="mailto:"]').textContent = translations[lang].footerEmail;
  
  // Update footer navigation
  const footerNavLinks = document.querySelectorAll('.footer-nav a');
  if (footerNavLinks[0]) footerNavLinks[0].textContent = translations[lang].footerPlans;
  if (footerNavLinks[1]) footerNavLinks[1].textContent = translations[lang].footerStepByStep;
  if (footerNavLinks[2]) footerNavLinks[2].textContent = translations[lang].footerFAQ;
  if (footerNavLinks[3]) footerNavLinks[3].textContent = translations[lang].footerOurClients;
  if (footerNavLinks[4]) footerNavLinks[4].textContent = translations[lang].footerPrivacy;
  if (footerNavLinks[5]) footerNavLinks[5].textContent = translations[lang].footerTerms;
  
  // Update footer services
  const footerServices = document.querySelectorAll('.footer-services-list li');
  if (translations[lang].footerService1) footerServices[0].textContent = translations[lang].footerService1;
  if (translations[lang].footerService2) footerServices[1].textContent = translations[lang].footerService2;
  if (translations[lang].footerService3) footerServices[2].textContent = translations[lang].footerService3;
  if (translations[lang].footerService4) footerServices[3].textContent = translations[lang].footerService4;
  
  // Update footer headings
  const footerHeadings = document.querySelectorAll('.footer-nav-section h5, .footer-services h5');
  if (footerHeadings[0]) footerHeadings[0].textContent = translations[lang].footerQuickNav;
  if (footerHeadings[1]) footerHeadings[1].textContent = translations[lang].footerServices;
  
  // Update footer copyright
  document.querySelector('.footer-bottom p').textContent = translations[lang].footerCopyright;
  
  // Update modals
  document.querySelector('#consultModal h4').textContent = translations[lang].consultModalTitle;
  document.querySelector('#consultForm input[name="name"]').placeholder = translations[lang].namePlaceholder;
  document.querySelector('#consultForm input[name="company"]').placeholder = translations[lang].companyPlaceholder;
  document.querySelector('#consultForm input[name="email"]').placeholder = translations[lang].emailPlaceholder;
  document.querySelector('#consultForm select[name="complexity"]').options[0].textContent = translations[lang].siteTypePlaceholder;
  document.querySelector('#consultForm select[name="complexity"]').options[1].textContent = translations[lang].simpleSite;
  document.querySelector('#consultForm select[name="complexity"]').options[2].textContent = translations[lang].standardSite;
  document.querySelector('#consultForm select[name="complexity"]').options[3].textContent = translations[lang].complexSite;
  document.querySelector('#consultForm textarea[name="message"]').placeholder = translations[lang].messagePlaceholder;
  document.querySelector('.divider').textContent = translations[lang].orDivider;
  document.querySelector('.btn-primary').textContent = translations[lang].sendButton;
  document.querySelector('#closeModal').textContent = translations[lang].cancelButton;
  
  document.querySelector('#privacyModal h4').textContent = translations[lang].privacyModalTitle;
  const privacyContent = document.querySelectorAll('#privacyModal p');
  if (privacyContent[0]) privacyContent[0].textContent = translations[lang].privacyContent1;
  if (privacyContent[1]) privacyContent[1].textContent = translations[lang].privacyContent2;
  document.querySelector('.closePrivacy').textContent = translations[lang].cancelButton;
  
  document.querySelector('#termsModal h4').textContent = translations[lang].termsModalTitle;
  const termsContent = document.querySelectorAll('#termsModal p');
  if (termsContent[0]) termsContent[0].textContent = translations[lang].termsContent1;
  if (termsContent[1]) termsContent[1].textContent = translations[lang].termsContent2;
  if (termsContent[2]) termsContent[2].textContent = translations[lang].termsContent3;
  document.querySelector('.closeTerms').textContent = translations[lang].cancelButton;
  
  // Update back to top button
  document.querySelector('#backToTop').title = translations[lang].backToTopTitle;
}

// Detect browser language and set appropriate default for first-time visitors
function detectBrowserLanguage() {
  // Check if user has a saved language preference
  const savedLanguage = localStorage.getItem('language');
  if (savedLanguage) {
    return savedLanguage; // Return saved preference if exists
  }
  
  // Get browser language(s)
  const browserLanguages = navigator.languages || [navigator.language || navigator.userLanguage];
  
  // Check for Bulgarian language variants
  const bulgarianLanguageCodes = ['bg', 'bg-BG', 'bg-bg'];
  const hasBulgarianLanguage = browserLanguages.some(lang => 
    bulgarianLanguageCodes.includes(lang.toLowerCase())
  );
  
  // If browser language is Bulgarian or related, default to Bulgarian
  if (hasBulgarianLanguage) {
    return 'bg';
  }
  
  // Default to Bulgarian for first-time visitors (as per original behavior)
  return 'bg';
}

// Initialize language switcher
function initLanguageSwitcher() {
  const languageBtns = document.querySelectorAll('.lang-btn');
  
  languageBtns.forEach(btn => {
    btn.addEventListener('click', (e) => {
      const lang = e.target.dataset.lang;
      updateLanguage(lang);
      
      // Update active states
      languageBtns.forEach(b => b.classList.remove('active'));
      e.target.classList.add('active');
    });
  });
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', () => {
  // Set current language based on detection or saved preference
  currentLanguage = detectBrowserLanguage();
  
  initLanguageSwitcher();
  updateLanguage(currentLanguage);
  
  // Update language switcher buttons to reflect current language
  updateLanguageSwitcherButtons(currentLanguage);
});
